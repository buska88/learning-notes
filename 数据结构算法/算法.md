# ç®—æ³•

## 1 äºŒåˆ†æŸ¥æ‰¾

èƒŒæ™¯ï¼šæŸ¥æ‰¾[1,2,2,2,3,3,5]ä¸­3çš„å·¦è¾¹ç•Œå’Œæœ‰è¾¹ç•Œçš„ç´¢å¼•ã€‚

å·¦è¾¹ç•Œå’Œæœ‰è¾¹ç•Œä»£è¡¨å•¥ï¼Ÿ2çš„å·¦è¾¹ç•Œæ˜¯1ï¼Œå³è¾¹ç•Œæ˜¯3ï¼Œå·¦è¾¹ç•Œiè¡¨ç¤ºæ•°ç»„ä¸­æœ‰**iä¸ªå°äº2çš„æ•°**ï¼Œæ•°ç»„é•¿åº¦ä¸ºnï¼Œé‚£ä¹ˆå³è¾¹ç•Œjè¡¨ç¤ºæ•°ç»„ä¸­**æœ‰(n-1-j)ä¸ªå¤§äº2çš„æ•°**ï¼Œå¦‚æœè¦æŸ¥æ‰¾ä¸€ä¸ªä¸å­˜åœ¨äºæ•°ç»„ä¸­çš„æ•°çš„å·¦è¾¹ç•Œå’Œæœ‰è¾¹ç•Œï¼Œé‚£ä¹ˆä¹Ÿå°±ç›¸å½“äºæŸ¥æ‰¾æ•°ç»„ä¸­æœ‰å¤šå°‘ä¸ªæ•°å°äºè¯¥æ•°/æœ‰å¤šå°‘ä¸ªæ•°å¤§äºè¯¥æ•°ã€‚

**æ¯”å¦‚è¦æŸ¥æ‰¾ä¸€ä¸ªä¸å­˜åœ¨äºæ•°ç»„ä¸­çš„æ•°4çš„å·¦è¾¹ç•Œå’Œå³è¾¹ç•Œï¼Œé‚£ä¹ˆ4çš„å·¦è¾¹ç•Œåº”è¯¥æ˜¯6ï¼Œ4çš„å³è¾¹ç•Œåº”è¯¥æ˜¯5**

äºŒåˆ†æ¨¡ç‰ˆï¼š

**å¯»æ‰¾å·¦è¾¹ç•Œ**ï¼š

æŒ‰ç…§å·¦è¾¹ç•Œçš„å®šä¹‰ï¼Œå®ƒå¯èƒ½å‡ºç°åœ¨0åˆ°nï¼ˆæ­¤æ—¶æ•°ç»„ä¸­æ‰€æœ‰æ•°éƒ½å°äºå®ƒï¼‰è¿™n=1ä¸ªä½ç½®ï¼Œå› æ­¤æŠŠæœç´¢èŒƒå›´å®šä¹‰åœ¨0å’Œa.lengthï¼Œç›®çš„æ˜¯å¸Œæœ›æœ€ç»ˆæœç´¢åˆ°çš„è¾¹ç•Œ**å§‹ç»ˆ**åœ¨æˆ‘ä»¬é€‰æ‹©çš„åŒºé—´ä¸­ä¸ä¼šå‡ºç°æº¢å‡ºã€‚æœ€åå½“æœç´¢ç©ºé—´åªå‰©ä¸€ä¸ªæ•°çš„æ—¶å€™å®ƒå°±æ˜¯æˆ‘ä»¬è¦çš„å·¦è¾¹ç•Œã€‚æ‰€ä»¥é€€å‡ºæœç´¢çš„æ¡ä»¶æ—¶l==mï¼Œè®¡ç®—å‡ºmåï¼Œå¦‚æœæ˜¯a[m]==targetè¿™ç§æƒ…å†µï¼Œæ­¤æ—¶må¯èƒ½ä¹Ÿæ˜¯ç›®æ ‡å€¼ï¼Œæ‰€ä»¥å–r=mã€‚

ä¸ºä»€ä¹ˆä¸èƒ½æ˜¯while(l <= r)ï¼Œé¦–å…ˆçŸ¥é“è¿™ä¸ªå¾ªç¯æ¡ä»¶åè¦è§‚å¯Ÿå¾ªç¯ä½“ä¸­æ— è®ºä»€ä¹ˆåˆ†æ”¯æ˜¯å¦æ€»ä¼šæœ‰æ”¹å˜lå’Œrä½ç½®çš„æƒ…å†µï¼Œå‰ä¸¤ä¸ªåˆ†æ”¯**è‚¯å®š**ä¼šæ›´æ–°rå’Œlçš„å€¼è¿™é‡Œå½“(a[m] < targetçš„æ—¶å€™ï¼Œræ˜¯æœ‰å¯èƒ½ä¸å‘ç”Ÿå˜åŒ–çš„ï¼ˆæ¯”å¦‚l==r==0çš„æƒ…å†µï¼‰,æ‰€ä»¥ä¸€æ—¦åœ¨whileä¸­æŒ‡å®šäº†(l<=r)å°±æœ‰å¯èƒ½å‡ºç°æŒç»­è½å…¥ç¬¬ä¸‰ä¸ªåˆ†æ”¯å¯¼è‡´lå’Œréƒ½æ²¡æœ‰æ›´æ–°ä»è€Œæ— æ³•é€€å‡ºå½“å‰æ¡ä»¶ã€‚

å¦‚æœæŒ‰ç…§lalabuladongé‚£ç§é—­åŒºé—´æ¨¡å¼(æŠŠrè®¾ä¸ºa.length-1)é‚£å°±è¡¨ç¤ºå…è®¸æœ€ç»ˆç»“æœä¸åœ¨æœç´¢åŒºé—´é‡Œï¼Œéœ€è¦åšè¿›ä¸€æ­¥æ£€æŸ¥ã€‚



**å¯»æ‰¾å³è¾¹ç•Œï¼š**

n-j-1çš„å€¼å¯èƒ½æ˜¯0åˆ°nä¸ªï¼Œå³è¾¹ç•Œjçš„å¯èƒ½å–å€¼èŒƒå›´ä¸º-1ï¼ˆæ•°ç»„ä¸­å…¨éƒ¨å…ƒç´ éƒ½å¤§äºè¿™ä¸ªæ•°ï¼‰åˆ°n-1ï¼ˆæ•°ç»„ä¸­æ²¡æœ‰æ•°å¤§äºå®ƒï¼‰ï¼Œå½“a[m]==targetæ—¶ï¼Œmæœ¬èº«å¯èƒ½æ˜¯å³è¾¹ç•Œï¼Œæ‰€ä»¥è®©l=mï¼Œæœ€ål=mçš„æ—¶å€™å°±æ˜¯ç»“æœã€‚

ä¸‹é¢ç¬¬ä¸€ä¸ªç‰ˆæœ¬ä¼šå‡ºç°æ­»å¾ªç¯æ‰€ä»¥å¹²è„†å…è®¸æœ€ç»ˆç»“æœæº¢å‡ºå¥¥æœç´¢ç©ºé—´ä¹‹å¤–ï¼Œå³åœ¨æœç´¢ç©ºé—´åœ¨l=rçš„æ—¶å€™ï¼Œæ— æ³•ç›´æ¥æ–­å®šå®ƒæ˜¯æœ€ç»ˆç»“æœè€Œæ˜¯ç»§ç»­è¿›è¡Œæœç´¢ï¼Œå¾ªç¯æ¡ä»¶å˜æˆwhile(l<=r)ã€‚æœ€åä¸ºé¿å…æ­»å¾ªç¯è®©ç›¸ç­‰æ—¶å–l=m+1ï¼Œæœ€åé€€å‡ºæœç´¢æ—¶rä¸€å®šåœ¨lçš„å·¦è¾¹ï¼Œè¿”å›rå°±æ˜¯å³è¾¹ç•Œ

```java
//å·¦è¾¹ç•Œ
public int bisearch(int[] a, int target) {
  int l = 0, r = a.length;
  while(l < r) {
      int m = l + (r - l) /2;
    	if(a[m] > target) { r = m - 1;}
  		else if(a[m] < target) {l = m + 1;}
      else {r = m;} 
  }
  return l;
}
//å³è¾¹ç•ŒæŒ‰ç…§ä¸Šé¢çš„é€»è¾‘åº”è¯¥è¿™ä¹ˆå†™ï¼Œä½†æ˜¯æœ€åä¼šå‡ºé—®é¢˜ï¼ŒåŒºåˆ«åœ¨äºï¼Œr=mæ—¶ä¿è¯rä¼šå‡å°çš„ï¼Œè€Œl=mç¼ºä¸èƒ½ä¿è¯lä¼šå¢å¤§ï¼Œå› ä¸ºl=0,r=1æ—¶ï¼Œl=mæ—¶å°±læ°¸è¿œç­‰äº0
public int bisearch(int[] a, int target) {//æ­»å¾ªç¯ç‰ˆæœ¬
  int l = -1, r = a.length - 1;
  while(l < r) {
      int m = l + (r - l) /2;
    	if(a[m] > target) { r = m - 1;}
  		else if(a[m] < target) {l = m + 1;}
      else {l = m;} 
  }
  return l;
}
//ä¿®æ”¹ç‰ˆæœ¬ï¼Œå½“a[m]==targetè®©l=m+1ä¿è¯lä¼šç§»åŠ¨ï¼Œä½†æ˜¯è¿™æ ·må¯èƒ½å°±ä¸åœ¨æœ€ç»ˆçš„åŒºé—´ä¸­äº†ï¼Œæ‰€ä»¥ä¹Ÿæ²¡å¿…è¦æŠŠlè®¾æˆ-1äº†ï¼Œæœ€åå¯ä»¥æŠŠæœç´¢ç©ºé›†ä¸€ç›´æœç´¢åˆ°ä¸€ä¸ª
public int bisearch(int[] a, int target) {
  int l = 0, r = a.length - 1;
  while(l <= r) {
      int m = l + (r - l) /2;
    	if(a[m] > target) { r = m - 1;}
  		else if(a[m] < target) {l = m + 1;}
      else {l = m + 1;} //è¿™æ ·æœ€ç»ˆçš„må¯èƒ½ä¸åœ¨æœç´¢åŒºé—´é‡Œï¼Œä½äºæœç´¢åŒºé—´çš„å·¦è¾¹
  }
  return r;
}

```

**æ€»ç»“**ï¼šäºŒåˆ†æŸ¥æ‰¾çš„å…³é”®å°±æ˜¯**æ˜¯å¦å…è®¸æœç´¢ç»“æœä¸å­˜åœ¨äºæœç´¢ç©ºé—´ä¸­**ï¼Œå¦‚æœè¦æ±‚ç»“æœå¿…é¡»å­˜åœ¨äºç©ºé—´ğŸ€„ï¸ï¼Œé‚£ä¹ˆå½“æœç´¢ç©ºé—´åªå‰©ä¸€ä¸ªå…ƒç´ æ—¶å®ƒè‚¯å®šå°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„ç»“æœï¼Œæ‰€ä»¥l == ræ—¶å°±å¿…è¦å†è¿›è¡Œæœç´¢é‡Œäº†ï¼Œç›´æ¥è¿”å›læˆ–rå§ã€‚

è¿™æ ·çš„æƒ³æ³•ç›´æ¥å†³å®šäº†åœ¨a[m] == targetç›´æ¥æŠŠmçº³å…¥ä¸‹ä¸€ä¸ªæœç´¢åŒºé—´ã€‚ä½†æ˜¯è¿™ç§æ€æƒ³åœ¨å¯»æ‰¾å·¦è¾¹ç•Œæ—¶å¯ç”¨ï¼Œå¯»æ‰¾å³è¾¹ç•Œæ—¶å°±é€ æˆæ­»å¾ªç¯ï¼Œå› ä¸ºl=0,r=1æ—¶ï¼Œlå§‹ç»ˆä¸ä¼šæ›´æ–°ã€‚

labladongç»™å‡ºçš„å¯»æ‰¾å³è¾¹ç•Œçš„ä¸€ä¸ªæ€è·¯æ˜¯è¦æ±‚æœ€ç»ˆæœç´¢ç»“æœ**ä¸€å®šä¸åœ¨**æœç´¢åŒºé—´ä¸­ï¼Œä»–é€‰æ‹©å¯»æ‰¾æ•°ç»„ä¸­**ç¬¬ä¸€ä¸ªå¤§äºtargetçš„æ•°çš„å·¦è¾¹ç•Œ**ï¼Œé‚£ä¹ˆå®ƒå‡å»1å°±æ˜¯targetçš„å³è¾¹ç•Œï¼Œè€Œæœç´¢åŒºé—´ä¸€å®šä¼šåŒ…å«æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå¤§äºtargetçš„æ•°çš„å·¦è¾¹ç•Œã€‚

```java
int right_bound(int[] nums, int target) {
    if (nums.length == 0) return -1;
    int left = 0, right = nums.length;
    while (left < right) {
        int mid = (left + right) / 2;
        if (nums[mid] == target) {
						left = mid + 1; // æ³¨æ„,è¿™ç§æƒ…å†µè¦æ‰¾çš„å·¦è¾¹ç•Œè‚¯å®šåœ¨midå³è¾¹
				} else if (nums[mid] < target) {
            left = mid + 1;
        } else if (nums[mid] > target) {
							right = mid;//æ­¤æ—¶midå¯èƒ½ä¹Ÿæ˜¯å³è¾¹ç•Œ }
			}
	  return left - 1; // æ³¨æ„ }
```



è¿˜æœ‰ä¸€ç§æƒ…å†µå°±æ˜¯å…è®¸æœç´¢ç»“æœä¸åœ¨æœç´¢åŒºé—´ä¸­ï¼Œé‚£ä¹ˆl==rçš„æ—¶å€™å°±å¿…é¡»ç»§ç»­æœç´¢ï¼Œæ¥éªŒè¯å®ƒåˆ°åº•æ˜¯ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚æœ€åé€€å‡ºçš„æ—¶å€™r = l-1ï¼Œè€Œä¸”ä¸ºäº†é¿å…æ­»å¾ªç¯æ¯æ¬¡å¿…é¡»è®©lå’Œréƒ½ç§»åŠ¨ï¼Œå³ä½¿nums[mid] == targetä¸èƒ½æŠŠmidçº³å…¥ä¸‹ä¸€è½®æœç´¢åŒºé—´ä¸­ï¼Œæ­¤æ—¶å¯»æ‰¾å·¦è¾¹ç•Œçš„æœç´¢é€»è¾‘ä¸ºï¼š

```java
public int bisearch(int[] a, int target) {
  int l = 0, r = a.length - 1;
  while(l <= r) {
      int m = l + (r - l) /2;
    	if(a[m] > target) { r = m - 1;}
  		else if(a[m] < target) {l = m + 1;}
      else {r = m - 1;} //å¯èƒ½é€ æˆæœ€ç»ˆæœç´¢ç»“æœæº¢å‡ºï¼Œä½äºæ–°æœç´¢åŒºé—´çš„å³è¾¹
  }
  return l;//æœ€ç»ˆ
}
```











## 2 æ’åºæ¨¡ç‰ˆ

### 2.1 å¿«é€Ÿæ’åº

**åˆ†æ²»**

l:æ°¸è¿œæŒ‡å‘å°äºpivotçš„æ•°çš„æŒ‡é’ˆçš„å³è¾¹ç•Œï¼›ræ°¸è¿œæŒ‡å‘å¤§äºpivotçš„æ•°çš„æŒ‡é’ˆçš„å·¦è¾¹ç•Œï¼Œä¸€å¼€å§‹çš„è¯æ”¾åœ¨l-1å’Œr+1æœ€åˆé€‚,cursoræ˜¯ç§»åŠ¨çš„æŒ‡é’ˆ

```java
public void quicksort(int[] a, int left, int right) {
  
  if(left >= right) return;
  int pivot = a[left];//ä¹Ÿå¯ä»¥å–a[left + (right - left)/2]
  int l = left - 1;
  int r = right + 1;
  int cursor = left;
  while(cursor < r) {//å½“cursorç§»åŠ¨åˆ°räº†å°±
    if (a[cursor] < pivot) {swap(a, ++l, cursor++);}
    else if (a[cursor] > pivot) {swap(a, --r, cursor);}//è¿™é‡Œä¸èƒ½æ˜¯cursor++ï¼Œå› ä¸ºæ¢è¿‡æ¥çš„æ•°è¿˜å¾—åšjiaoyan
    else {cursor++;}//ç­‰äºcursorå°±ç›´æ¥ç§»åŠ¨
  }
  //å¯¹ä¸ç­‰äºxçš„å‰åä¸¤éƒ¨åˆ†åˆ†åˆ«è¿›è¡Œæ’åº
  quicksort(a, left, l);
  quicksort(a, r, right);
}
```

å…³äºè¿”å›æ¡ä»¶ï¼šå¯¹äºleft = lè¿™ç§æƒ…å†µï¼Œå°±æ²¡å¿…è¦å†æ’äº†å¯ä»¥ç›´æ¥é€€å‡ºï¼Œå¦‚æœæ²¡æœ‰ç­‰äºè¿™ä¸ªæ¡ä»¶ï¼Œå½“left = right = 0çš„æ—¶å€™ï¼Œpivotæ°¸è¿œç­‰äºa[left],é‚£ä¹ˆlå’Œræ°¸è¿œä¸ä¼šç§»åŠ¨ï¼Œæœ€ç»ˆè¿›å…¥æ­»å¾ªç¯ã€‚



### 2.2 å½’å¹¶æ’åº

**åˆ†æ²»+åŒæŒ‡é’ˆ**

```java
public void mergesort(int[] a, int left, int right) {
  if(left >= right) return;
  int mid = left + (right - left)/2;
  mergesort(a, left, mid);
  mergesort(a, mid + 1, right);
  merge(a, left, mid, right);
}
//mergeå°±æ˜¯åŒæŒ‡é’ˆæ¨¡ç‰ˆ
public void merge(int[] a, int left, int mid, int right) {//newä¸€ä¸ªè¾…åŠ©æ•°ç»„
  int[] help = new int[right - left + 1];
  int l = left, r = mid + 1, h = 0;
  while(l <= mid && r <= right) {
    if(l > mid) {help[h++] = a[r++];}
    else if(r > right) {help[h++] = a[l++];}
    else if(a[l] <= a[r]) {help[h++] = a[l++];}
    else {help[h++] = a[r++];}
  }
  for(int i = 0; i<=h;i++) {
    a[left + i] = help[i];
  }
}
```

* è€ƒè™‘åˆ°åªæœ‰ä¸€ä¸ªå…ƒç´ çš„æ•°ç»„å°±è¯¥çŸ¥é“ï¼Œé€€å‡ºæ¡ä»¶å¿…é¡»åŒ…å«=ï¼Œå¦åˆ™ä¼šè¿›å…¥æ­»å¾ªç¯ã€‚
* å½’å¹¶æ’åºä¸ºä»€ä¹ˆç¨³å®šï¼Ÿa[l] <= a[r]è¿™ç§å®ç°å°±è¶³ä»¥ä¿è¯å€¼ç›¸ç­‰çš„å…ƒç´ ï¼Œä½ç½®é å‰çš„æ°¸è¿œä¼šæ”¾åˆ°helpä¸­é å‰çš„ä½ç½®



## 2 åŠ¨æ€è§„åˆ’ä¸“é¢˜

### 1.æœ€ä¼˜å­ç»“æ„

ã€Œæœ€ä¼˜å­ç»“æ„ã€æ˜¯æŸäº›é—®é¢˜çš„ä¸€ç§ç‰¹å®šæ€§è´¨ï¼Œå¹¶ä¸æ˜¯åŠ¨æ€è§„åˆ’é—®é¢˜ä¸“æœ‰çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¾ˆå¤šé—®é¢˜å…¶å®éƒ½å…·æœ‰æœ€ä¼˜å­ç»“æ„ï¼Œåªæ˜¯å…¶ä¸­å¤§éƒ¨åˆ†ä¸å…·æœ‰é‡å å­é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸æŠŠå®ƒä»¬å½’ä¸ºåŠ¨æ€è§„åˆ’ç³»åˆ—é—®é¢˜è€Œå·²ã€‚

å·²çŸ¥æ¯ä¸ªç­æœ€é«˜åˆ†ï¼Œæ±‚å…¨æ ¡æœ€é«˜åˆ†ï¼Œè¿™ä¸ªé—®é¢˜å°±**ç¬¦åˆæœ€ä¼˜å­ç»“æ„**ï¼šå¯ä»¥ä»å­é—®é¢˜çš„æœ€ä¼˜ç»“æœæ¨å‡ºæ›´å¤§è§„æ¨¡é—®é¢˜çš„æœ€ä¼˜ç»“æœã€‚è®©ä½ ç®—**æ¯ä¸ªç­**çš„æœ€ä¼˜æˆç»©å°±æ˜¯å­é—®é¢˜ï¼Œä½ çŸ¥é“æ‰€æœ‰å­é—®é¢˜çš„ç­”æ¡ˆåï¼Œå°±å¯ä»¥å€Ÿæ­¤æ¨å‡º**å…¨æ ¡**å­¦ç”Ÿçš„æœ€ä¼˜æˆç»©è¿™ä¸ªè§„æ¨¡æ›´å¤§çš„é—®é¢˜çš„ç­”æ¡ˆã€‚

å‡è®¾ä½ ä»¬å­¦æ ¡æœ‰ 10 ä¸ªç­ï¼Œä½ å·²çŸ¥æ¯ä¸ªç­çš„æœ€å¤§åˆ†æ•°å·®ï¼ˆæœ€é«˜åˆ†å’Œæœ€ä½åˆ†çš„å·®å€¼ï¼‰ã€‚é‚£ä¹ˆç°åœ¨æˆ‘è®©ä½ è®¡ç®—å…¨æ ¡å­¦ç”Ÿä¸­çš„æœ€å¤§åˆ†æ•°å·®ï¼Œè¿™ä¸ªé—®é¢˜å°±**ä¸ç¬¦åˆæœ€ä¼˜å­ç»“æ„**ï¼Œå› ä¸ºä½ æ²¡åŠé€šè¿‡æ¯ä¸ªç­çš„æœ€ä¼˜å€¼æ¨å‡ºå…¨æ ¡çš„æœ€ä¼˜å€¼ï¼Œæ²¡åŠæ³•é€šè¿‡å­é—®é¢˜çš„æœ€ä¼˜å€¼æ¨å‡ºè§„æ¨¡æ›´å¤§çš„é—®é¢˜çš„æœ€ä¼˜å€¼ã€‚

**é‚£ä¹ˆé‡åˆ°è¿™ç§æœ€ä¼˜å­ç»“æ„å¤±æ•ˆæƒ…å†µï¼Œæ€ä¹ˆåŠï¼Ÿç­–ç•¥æ˜¯ï¼šæ”¹é€ é—®é¢˜**ã€‚

æœ€å¤§åˆ†æ•°å·®ï¼Œä¸å°±ç­‰ä»·äºæœ€é«˜åˆ†æ•°å’Œæœ€ä½åˆ†æ•°çš„å·®ä¹ˆï¼Œé‚£ä¸å°±æ˜¯è¦æ±‚æœ€é«˜å’Œæœ€ä½åˆ†æ•°ä¹ˆï¼Œä¸å°±æ˜¯æˆ‘ä»¬è®¨è®ºçš„ç¬¬ä¸€ä¸ªé—®é¢˜ä¹ˆï¼Œä¸å°±å…·æœ‰æœ€ä¼˜å­ç»“æ„äº†ä¹ˆï¼Ÿ

### 2.é€’å½’è½¬dp

#### 494ç›®æ ‡å’Œ

ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ï¼Œa1, a2, ..., an, å’Œä¸€ä¸ªç›®æ ‡æ•°ï¼ŒSï¼Œç»™æ¯ä¸ªæ•°å‰é¢åŠ ä¸Š'+'æˆ–'-'ï¼Œä½¿è¿™äº›æ•°ä¹‹å’Œä¸ºSï¼Œé—®æ‰€æœ‰æ·»åŠ ç¬¦å·çš„æ–¹æ³•æ•°ã€‚

è¿™é¢˜ä½¿ç”¨å›æº¯å¾ˆè½»æ¾ï¼Œä½†æ˜¯å¦‚ä½•è½¬dp?

æŠŠè¿™äº›æ•°åˆ†ä¸ºä¸¤ä¸ªé›†åˆï¼Œå‰é¢åŠ æ­£å·çš„æ˜¯é›†åˆAï¼Œè´Ÿå·çš„æ˜¯é›†åˆBï¼Œé€šè¿‡ä¸‹é¢å…¬å¼å¯ä»¥æŠŠè¯¥é—®é¢˜è½¬åŒ–ä¸ºä¸€ä¸ª01èƒŒåŒ…é—®é¢˜ã€‚

```
sum(A) - sum(B) = target
sum(A) = target + sum(B)
sum(A) + sum(A) = target + sum(B) + sum(A)
2 * sum(A) = target + sum(nums)
```

### 3.æœ€é•¿é€’å¢å­åºåˆ—é—®é¢˜

LISé—®é¢˜ï¼Œæœ€å®¹æ˜“çš„è§£æ³•å¾ˆå®¹æ˜“æƒ³å‡ºï¼ŒO(N^2)ï¼Œä½†æ˜¯è¿™é“é¢˜è¿˜å¯ä»¥åšæˆO(NlogN)è§£æ³•ï¼Œå°±æ˜¯ç±»ä¼¼æ‰‘å…‹ç‰Œæ´—ç‰Œè¿™ç§è¿‡ç¨‹

![image-20210504195542710](ç®—æ³•.assets/image-20210504195542710.png)

![image-20210504195607773](ç®—æ³•.assets/image-20210504195607773.png)

æœ€åæ‰‘å…‹ç‰Œçš„å †æ•°å°±æ˜¯æœ€é•¿å­åºåˆ—ã€‚

è¿™é‡Œå¼ºè°ƒä¸€ä¸‹ï¼Œè¿™ç§æ”¾æ³•æ˜¯é»˜è®¤æ•°ç»„æ²¡æœ‰é‡å¤å­å…ƒç´ çš„ï¼Œå‡è®¾æ•°ç»„ä¸­æœ‰é‡å¤å­å…ƒç´ çš„è¯ï¼Œé‚£ä¹ˆæ–¹æ³•å°±æ˜¯æ¯ä¸€å¼ ç‰Œå¯ä»¥æ”¾åœ¨ç‰Œæ•°**ä¸å°äº**å®ƒçš„ç‰Œä¸Šï¼Œæ¯”å¦‚2,2,2,2,2ï¼Œå®ƒä»¬åº”è¯¥è¢«æ”¾åœ¨ä¸€ä¸ªå †ä¸Šè€Œä¸æ˜¯5ä¸ªå †ã€‚

ä¸ºä»€ä¹ˆå †çš„ä¸ªæ•°å°±æ˜¯æœ€é•¿å¢é•¿å­åºåˆ—çš„é•¿åº¦ï¼Ÿå› ä¸ºæŒ‰ç…§è¿™ç§æ”¾ç½®æ–¹å¼ï¼Œæ•°ç»„ä¸­æ‰€æœ‰é€’å¢çš„å­åºåˆ—è‚¯å®šä½äºä¸åŒçš„å †ä¸Šï¼ŒåŒä¸€ä¸ªå †ä»ä¸Šåˆ°ä¸‹è‚¯å®šæ˜¯é€’å‡çš„ï¼Œæ‰€ä»¥å †çš„ä¸ªæ•°è‚¯å®šå¤§äºç­‰äºæœ€é•¿å¢é•¿å­åºåˆ—çš„é•¿åº¦ï¼›åŒç†ï¼Œå †çš„é•¿åº¦ä¹Ÿä¸å¯èƒ½å¤§äºæœ€é•¿å¢é•¿å­åºåˆ—é•¿åº¦ï¼Œå› ä¸ºæœ€ç»ˆæœ€é•¿å¢é•¿å­åºåˆ—ä¸­æŸå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ ä¸€å®šä½äºå®ƒçš„ä¸‹ä¸€ä¸ªå †ä¸Šï¼Œæ¯”å¦‚æœ€ç»ˆå­åºåˆ—ä¸­çš„anä½äºç¬¬iä¸ªå †ä¸Šï¼Œé‚£ä¹ˆa(n+1)ä¸€å®šä½äºç¬¬i+1ä¸ªå †ä¸Šã€‚å› ä¸ºan,a(n+1)æ˜¯æœ€é•¿å¢é•¿å­åˆ—ç›¸é‚»å…ƒç´ ï¼Œåœ¨åŸæ•°ç»„çš„ç´¢å¼•ä¸ºk1,k2,é‚£ä¹ˆnums[k1+1:k2-1]ä¹‹é—´å°±ä¸å¯èƒ½å­˜åœ¨ä½äº[an,a(n+1)]è¿™ä¸ªåŒºé—´çš„å€¼ï¼Œå¦åˆ™ä¸æ˜¯æœ€ä¼˜è§£ã€‚anå’Œa(n+1)ä¹‹é—´çš„å…ƒç´ å…¨éƒ¨å¤§äºmax(an,a(n+1))ï¼Œé‚£ä¹ˆa(n+1)ä¼šæŒ‚åœ¨ç¬¬i+1ä¸ªå †ä¸Šï¼›å¦åˆ™a(n+1)ä¼šä½œä¸ºç¬¬i+1ä¸ªå †çš„å †å¤´ï¼›å› æ­¤ä¸å¯èƒ½å­˜åœ¨å †çš„ä¸ªæ•°å¤§äºæœ€é•¿å¢é•¿å­åºåˆ—ä¸ªæ•°çš„æƒ…å†µã€‚

å› ä¸ºå †åº•å…ƒç´ æ˜¯å•è°ƒé€’å¢çš„ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾åŠ å¿«æ”¾ç½®å †å…ƒç´ çš„é€Ÿåº¦ï¼Œå¦‚æœæ–°éå†åˆ°çš„å…ƒç´ å¤§äºæ­¤æ—¶å †åº•æ‰€æœ‰çš„å…ƒç´ ï¼Œå°±æ–°å¼€ä¸€ä¸ªå †ï¼›ä»¥ä¸Šå›¾çš„å †åº•å…ƒç´ ä¸ºä¾‹ï¼Œæ–°éå†çš„å…ƒç´ å¦‚æœå°äºç­‰äº2ï¼Œé‚£å°±æ”¾åœ¨ç¬¬ä¸€ä¸ªå †ä¸Šï¼›å¤§äº2å°äºç­‰äº4å°±æ”¾åœ¨ç¬¬äºŒä¸ªå †ä¸Šï¼Œæ¯”å¦‚æ‰¾åˆ°3ï¼Œå¦‚ä½•ä½¿ç”¨å·¦è¾¹ç•Œæ”¾æ³•ï¼Œé‚£ä¹ˆæ•´ä¸ªæ•°ç»„ä¸­åªæœ‰1ä¸ªæ•°æ¯”å®ƒå°ï¼Œå®ƒåº”è¯¥æ”¾åœ¨ç¬¬ä¸€ä¸ªå †ä¸Šï¼›å¦‚æœä½¿ç”¨å³è¾¹ç•Œæ”¾æ³•ï¼Œæ•´ä¸ªæ•°ç»„ä¸­æœ‰å››ä¸ªæ•°æ¯”å®ƒå¤§ï¼Œå®ƒåº”è¯¥æ”¾åœ¨ç¬¬0ä¸ªå †ä¸Š(5-1-j=4=>j=0)ï¼Œå¾ˆæ˜¾ç„¶ï¼Œè¿™é‡Œåº”è¯¥ä½¿ç”¨**å·¦è¾¹ç•Œæ”¾æ³•**ï¼›

é‚£ä¹ˆé€šè¿‡æ¨¡æ‹Ÿæ‰‘å…‹ç‰Œæ¥è®¡ç®—æœ€é•¿é€’å¢å­åˆ—çš„é•¿åº¦ï¼š

```java
public int LengthOfLIS(int[] nums){
    int piles = 0;
    //heapå°±æ˜¯å †
    int[] heap = new int[nums.length];
    for(int i = 0;i<nums.length;i++){
        int pile = nums[i],lo = 0,hi = piles;
        //è¿™é‡Œä½¿ç”¨å·¦é—­å³å¼€æœç´¢æ³•
        while(lo<hi){
            int mid = lo + (hi-lo)/2;
            if(heap[mid]<pile){
                lo = mid + 1;
            }else if(heap[mid]>=pile){
                hi = mid;
            }
        }
        //å·¦å¼€å³é—­è¿”å›å·¦è¾¹ç•Œï¼Œè¿”å›loæˆ–è€…hiéƒ½å¯ä»¥ï¼Œè¿™é‡Œé€‰æ‹©lo
        if(lo == piles){
            //å¼€æ–°å †
            heap[piles++] = pile;
        }else{
            //æ›´æ–°åŸæ¥å †çš„å †åº•å…ƒç´ 
            heap[lo] = pile;
        }
        
    }
    return piles;
}
```

ä¿¡å°é—®é¢˜ï¼ŒLISé—®é¢˜å¯ä»¥è§£å†³ï¼š

![image-20210505172211231](ç®—æ³•.assets/image-20210505172211231.png)

åšæ³•ï¼šæˆ‘ä¸€å¼€å§‹æƒ³åˆ°äº†æ’åºï¼Œé¦–å…ˆæ˜¯æŒ‰ç…§env[0]ä»å°åˆ°å¤§æ’ï¼Œenv[0]ç›¸ç­‰æŒ‰ç…§env[1]ä»å°åˆ°å¤§æ’ï¼Œç„¶åå‡†å¤‡ä¸€ä¸ªå †ï¼Œç„¶åä½¿ç”¨dpï¼Œè®¡ç®—ä»¥æ¯ä¸€ä¸ªä¿¡å°ä¸ºç»ˆç‚¹çš„æœ€é•¿å­—èŠ‚é•¿åº¦ï¼›è¿™é‡Œå¯ä»¥åšä¸€ä¸ªä¼˜åŒ–ï¼Œå°±æ˜¯å¯¹äºæŸä¸€ä¸ªä¿¡å°ï¼Œå¦‚æœå®ƒå‰ä¸€ä¸ªä¿¡å°çš„env[0]å’Œå®ƒç›¸ç­‰ï¼Œé‚£ä¹ˆå°±å¯ä»¥è·³è¿‡å‰é¢çš„ä¿¡å°ã€‚

ä¹Ÿå¯ä»¥é€‰æ‹©

![image-20210505174928218](ç®—æ³•.assets/image-20210505174928218.png)

![image-20210505175129318](ç®—æ³•.assets/image-20210505175129318.png)

### 4.æœ€å¤§å­æ•°ç»„å’Œ

lc53ï¼Œdp[i]è¡¨ç¤ºä»¥iç»“å°¾çš„æ•°ç»„çš„å’Œï¼Œdp[i] = Math.max(dp[i-1],dp[i])

### 5.æœ€é•¿å…¬å…±å­åºåˆ—

#### lc1143 lcsé—®é¢˜

å­åºåˆ—ç±»å‹çš„é—®é¢˜ï¼Œ ç©·ä¸¾å‡ºæ‰€æœ‰å¯èƒ½çš„ç»“æœéƒ½ä¸å®¹æ˜“ï¼Œ â½½åŠ¨æ€è§„åˆ’ç®—æ³•åšçš„å°±æ˜¯ç©·ä¸¾ +å‰ªæï¼Œ å®ƒä¿©å¤©â½£â¼€å¯¹â¼‰ã€‚ æ‰€ä»¥å¯ä»¥è¯´åªè¦æ¶‰åŠâ¼¦åºåˆ—é—®é¢˜ï¼Œ â¼—æœ‰â¼‹ä¹éƒ½éœ€è¦åŠ¨æ€è§„åˆ’æ¥è§£å†³ï¼Œ å¾€è¿™â½…â¾¯è€ƒè™‘å°±å¯¹äº†ã€‚  

**å¯¹äºä¸¤ä¸ªå­—ç¬¦ä¸²æ±‚å­åºåˆ—çš„é—®é¢˜ï¼Œéƒ½æ˜¯ç”¨ä¸¤ä¸ªæŒ‡é’ˆ`i`å’Œ`j`åˆ†åˆ«åœ¨ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸Šç§»åŠ¨ï¼Œå¤§æ¦‚ç‡æ˜¯åŠ¨æ€è§„åˆ’æ€è·¯**ã€‚

è¿™ä¸ªå’Œç¼–è¾‘è·ç¦»å¾ˆåƒï¼Œå¦‚æœtext1.charAt(i)==text.charAt(j)ï¼Œè¯´æ˜å…¬å…±å­åºåˆ—å¯ä»¥åœ¨dp\[i-1]\[j-1]çš„åŸºç¡€åŠ 1äº†ï¼Œå¦åˆ™å°±æ˜¯dp\[i-1]\[j]å’Œdp\[i]\[j-1]ä¸¤è€…çš„æœ€å¤§å€¼ã€‚

```java
class Solution {
    public int longestCommonSubsequence(String text1, String text2) {
        int m = text1.length(),n = text2.length();
        int[][] dp = new int[m+1][n+1];
        for(int i = 1;i<=m;i++){
            for(int j = 1;j<=n;j++){
                if(text1.charAt(i-1)==text2.charAt(j-1)){
                    dp[i][j] = dp[i-1][j-1] + 1;
                }else{
                    dp[i][j] = Math.max(dp[i-1][j],dp[i][j-1]);
                }
            }
        }
        return dp[m][n];

    }
}
```

#### lc583 ä¸¤ä¸ªå­—ç¬¦ä¸²çš„åˆ é™¤æ“ä½œ

![image-20210505215302236](ç®—æ³•.assets/image-20210505215302236.png)

è¿™é“é¢˜å°±æ˜¯æ±‚å‡ºæœ€é•¿å…¬å…±å­åºåˆ—é•¿åº¦lcsï¼Œç„¶åä½¿ç”¨s1.length()-lcs+s2.length()-lcs

#### lc712 ä¸¤ä¸ªå­—ç¬¦ä¸²çš„æœ€å°ASCIIåˆ é™¤å’Œ

è¿™ä¸ªä¹ä¸€çœ‹æŒºéš¾çš„ï¼Œæˆ‘ä»¥ä¸ºå¾—æŠŠæœ€é•¿å…¬å…±å­ä¸²æ±‚å‡ºæ¥ï¼Œç„¶åå†ä½¿ç”¨ä¸¤ä¸ªå­—ç¬¦ä¸²çš„ASCIIç å‡å»ä¸¤æ¬¡å…¬å…±å­ä¸²çš„ASCIIç ï¼Œå…¶å®æ²¡é‚£ä¹ˆéº»çƒ¦ï¼Œå¯ä»¥å¤ç”¨1143çš„ä»£ç ï¼Œå°±æ˜¯dp\[i]\[j]çš„å®šä¹‰æ˜¯s1å‰iä¸ªå­—ç¬¦å’Œs2å‰jä¸ªå­—ç¬¦å…¬å…±å­—ç¬¦ä¸²çš„ASCIIç ä¹‹å’Œï¼Œç„¶åå¯ä»¥å‘ç°ï¼Œä»£ç é€»è¾‘æ˜¯å¯ä»¥å¤ç”¨ä¸Šé¢çš„ã€‚

```java
class Solution {
    public int minimumDeleteSum(String s1, String s2) {
        int sum = getAsc(s1)+getAsc(s2);
        int m = s1.length(),n = s2.length();
        int[][] dp = new int[m+1][n+1];
        for(int i = 1;i<=m;i++){
            for(int j = 1;j<=n;j++){
                if(s1.charAt(i-1)==s2.charAt(j-1)){
                    dp[i][j] = dp[i-1][j-1] + s1.charAt(i-1) + s2.charAt(j-1);
                }else{
                    dp[i][j] = Math.max(dp[i-1][j],dp[i][j-1]);
                }
            }
        }
        return sum - dp[m][n];
    }
    public int getAsc(String s){
        int res = 0;
        for(int i = 0;i<s.length();i++){
            res = res + s.charAt(i);
        }
        return res;
    }
}
```

### 6.å­åºåˆ—é—®é¢˜è§£é¢˜æ¨¡æ¿

ä¸€æ—¦æ¶‰åŠåˆ°å­åºåˆ—å’Œæœ€å€¼ï¼Œé‚£å‡ ä¹å¯ä»¥è‚¯å®šï¼Œ**è€ƒå¯Ÿçš„æ˜¯åŠ¨æ€è§„åˆ’æŠ€å·§ï¼Œæ—¶é—´å¤æ‚åº¦ä¸€èˆ¬éƒ½æ˜¯ O(n^2)**

![image-20210505225400640](ç®—æ³•.assets/image-20210505225400640.png)

**2.ç¬¬äºŒç§æ€è·¯æ¨¡æ¿æ˜¯ä¸€ä¸ªäºŒç»´dpæ•°ç»„**

![image-20210505225559486](ç®—æ³•.assets/image-20210505225559486.png)

å°è¯•ç‰›åˆ€ï¼šæ±‚æœ€é•¿å›æ–‡å­åºåˆ—çš„é•¿åº¦

![image-20210505225951029](ç®—æ³•.assets/image-20210505225951029.png)

çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š

![image-20210505230339853](ç®—æ³•.assets/image-20210505230339853.png)

```java
int longestPalindromeSubseq(string s) {
    int n = s.size();
    int[][] dp = new int[n][n];
    // base case
    for (int i = 0; i < n; i++)
        dp[i][i] = 1;
    // åç€éå†ä¿è¯æ­£ç¡®çš„çŠ¶æ€è½¬ç§»
    for (int i = n - 1; i >= 0; i--) {
        for (int j = i + 1; j < n; j++) {
            // çŠ¶æ€è½¬ç§»æ–¹ç¨‹
            if (s[i] == s[j])
                dp[i][j] = dp[i + 1][j - 1] + 2;
            else
                dp[i][j] = max(dp[i + 1][j], dp[i][j - 1]);
        }
    }
    // æ•´ä¸ª s çš„æœ€é•¿å›æ–‡å­ä¸²é•¿åº¦
    return dp[0][n - 1];
}
```

### 7.èƒŒåŒ…é—®é¢˜

#### 01èƒŒåŒ…é—®é¢˜

```java
public int knapsack(int W,int N,int[] w,int[] val){
    int[][] dp = new int[N+1][W+1];
    for(int i = 1;i<=N;i++){
        fot(int j = 1;j<=W;j++){
            if(j>=w[i-1]){
                dp[i][j] = Math.max(dp[i-1][j],dp[i-1][j-w[i-1]]+val[i-1]);
            }else{
                dp[i][j] = dp[i-1][j];
            }
        }
    }
    return dp[N][W];
}
```

çŠ¶æ€å‹ç¼©

```java
public int knapsack(int W,int N,int[] w,int[] val){
    int[] dp = new int[W+1];
    for(int i = 0;i<N;i++){
        fot(int j = W;j>=w[i];j--){
            dp[j] = Math.max(dp[j],dp[j-w[i]]+val[i]);
        }
    }
    return [W];
}
```

#### å®Œå…¨èƒŒåŒ…é—®é¢˜

æœ‰ä¸€ä¸ªèƒŒåŒ…ï¼Œæœ€å¤§å®¹é‡ä¸º`amount`ï¼Œæœ‰ä¸€ç³»åˆ—ç‰©å“`coins`ï¼Œæ¯ä¸ªç‰©å“çš„é‡é‡ä¸º`coins[i]`ï¼Œ**æ¯ä¸ªç‰©å“çš„æ•°é‡æ— é™**ã€‚è¯·é—®æœ‰å¤šå°‘ç§æ–¹æ³•ï¼Œèƒ½å¤ŸæŠŠèƒŒåŒ…æ°å¥½è£…æ»¡ï¼Ÿ

ä¸01èƒŒåŒ…ç›¸æ¯”ï¼Œè¿™ä¸ªå¯¹ç‰©å“çš„æ•°é‡æ²¡æœ‰é™åˆ¶ï¼Œ

![image-20210507111454547](ç®—æ³•.assets/image-20210507111454547.png)

è¿™é“é¢˜è¯¥æ€ä¹ˆç†è§£å‘¢ï¼Ÿdp\[i]\[j]è¡¨ç¤ºå•†å“ä¸ªæ•°ä¸ºiæ—¶ï¼Œå®¹é‡ä¸ºjæ—¶çš„æ”¾æ³•ç»„åˆæ•°ã€‚éå†åˆ°ç¬¬iä¸ªå•†å“æ—¶ï¼Œå¯ä»¥é€‰æ‹©ä¸æŠŠå®ƒæ”¾è¿›å»(dp\[i-1]\[j]),ä¹Ÿå¯ä»¥é€‰æ‹©åªæ”¾è¿›å»ä¸€ä¸ª(dp\[i-1]\[j-coins[i-1]]),æ”¾è¿›å»ä¸¤ä¸ª(dp\[i-1]\[j-2\*coins[i-1]])ï¼Œç›´åˆ°æ”¾ä¸è¿›å»ä¸ºæ­¢(k\*coins[i-1]>=j)ï¼Œdp\[i]\[j]å°±æ˜¯è¿™å‡ ç§æƒ…å†µçš„å’Œ.

å¦å¤–å¯ä»¥å‘ç°ï¼Œdp\[i][j-coins[i-1]] = dp\[i-1][j-coins[i-1]] + ... + dp\[i][j-k\*coins[i-1]]

æ‰€ä»¥dp\[i][j] = dp\[i][j-coins[i-1]] + dp\[i-1][j]

```java
int change(int amount, int[] coins) {
    int n = coins.length;
    int[] dp = new int[amount + 1];
    dp[0] = 1; // base case
    for (int i = 0; i < n; i++)
        for (int j = 1; j <= amount; j++)
            if (j - coins[i] >= 0)
                dp[j] = dp[j] + dp[j-coins[i]];

    return dp[amount];
}
```

### 8.æ­£åˆ™è¡¨è¾¾

å› ä¸ºæ˜¯å­—ç¬¦ä¸²åŒ¹é…é—®é¢˜ï¼Œæ‰€ä»¥ä½¿ç”¨dpï¼Œä¸€å…±ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œdp\[i]\[j]ä»£è¡¨s1å‰iä¸ªå­—ç¬¦æ˜¯å¦å¯ä»¥å’Œs2å‰jä¸ªå­—ç¬¦åŒ¹é…

å› ä¸ºæ˜¯å­—ç¬¦ä¸²åŒ¹é…é—®é¢˜ï¼Œæ‰€ä»¥ä½¿ç”¨dpï¼Œä¸€å…±ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œdp\[i]\[j]ä»£è¡¨s1å‰iä¸ªå­—ç¬¦æ˜¯å¦å¯ä»¥å’Œs2å‰jä¸ªå­—ç¬¦åŒ¹é…

```java
if (j == 0) {
    f[i][j] = i == 0;
} else {
    //éç©ºæ­£åˆ™åˆ†ä¸ºä¸¤ç§æƒ…å†µ * å’Œ é*
    if (B.charAt(j - 1) != '*') {
        if (i > 0 && (A.charAt(i - 1) == B.charAt(j - 1) || B.charAt(j - 1) == '.')) {
            f[i][j] = f[i - 1][j - 1];
        }
    } else {
        //ç¢°åˆ° * äº†ï¼Œåˆ†ä¸ºçœ‹å’Œä¸çœ‹ä¸¤ç§æƒ…å†µ
        //ä¸çœ‹
        if (j >= 2) {
            f[i][j] |= f[i][j - 2];
        }
        //çœ‹
        if (i >= 1 && j >= 2 && (A.charAt(i - 1) == B.charAt(j - 2) || B.charAt(j - 2) == '.')) {
            f[i][j] |= f[i - 1][j];
        }
    }
}
```

|      | 0    | a    | *    |
| ---- | ---- | ---- | ---- |
| 0    | T    |      |      |
| a    | F    |      |      |
| a    | F    |      |      |

dp\[i]\[j]çš„basecaseå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ‰€ä»¥æœ‰

```java
if (j == 0) {//ç¬¬0åˆ—åªæœ‰i==0æ—¶ä¸ºtrueï¼Œå…¶ä»–ä¸ºfalse.
    f[i][j] = i == 0;
}
```



### 9.å››é”®é”®ç›˜

![image-20210509100324151](ç®—æ³•.assets/image-20210509100324151.png)

* è¦æƒ³æ“ä½œnæ¬¡åæ˜¾ç¤ºæ›´å¤šçš„'A'ï¼Œé‚£ä¹ˆç¬¬næ¬¡æ“ä½œç”šè‡³ç¬¬n-1æ¬¡æ“ä½œéƒ½æ˜¯c_vï¼Œæˆ–è€…ç›´æ¥è¾“å…¥ä¸€ä¸ª'A'ï¼Œç¬¬næ¬¡æ“ä½œå¦‚æœæ˜¯c_aæˆ–è€…c_cï¼Œå¯èƒ½åœ¨åé¢ä¼šè·å¾—æ›´å¤§çš„å€¼ï¼ˆæ¯•ç«Ÿä¸€æ¬¡æ€§å¤åˆ¶äº†æ›´å¤šå…ƒç´ ï¼Œä»¥åc_væ—¶ä»¥ä¹˜æ³•å¢åŠ ï¼Œæ–œç‡æ›´é«˜ï¼‰ä½†æ˜¯åªæ“ä½œnæ¬¡çš„æƒ…å†µä¸‹ï¼Œå¯¹ä¸èµ·ï¼Œäººå®¶åœ¨ä½ c_aï¼Œc_cçš„åŠŸå¤«ç›´æ¥ä¸¤æ¬¡c_vè¶…è¿‡ä½ ï¼Œå› ä¸ºdp\[i]è®°å½•çš„æ˜¯æ“ä½œiæ¬¡æ—¶è·å¾—çš„æœ€å¤§'A'ï¼Œäººå®¶ä»dp\[i-3]å¼€å§‹ç›´æ¥å¤åˆ¶ï¼Œè€Œæ­¤æ—¶ä½ çš„dp\[i]è¿˜ä¸€ç›´æ²¡å˜åŒ–ã€‚
* å¤šæ¬¡c_aå’Œc_cæ“ä½œæ€ä¹ˆåŠï¼Ÿåªè€ƒè™‘æœ€åä¸€æ¬¡çš„é‚£ä¸ªc_a,c_cã€‚å‰é¢æåˆ°ï¼Œä¸çœ‹é•¿è¿œåˆ©ç›Šï¼Œåªæƒ³åœ¨ç¬¬næ¬¡è·å¾—æœ€å¤§å€¼ï¼Œé‚£ä¹ˆä¸ç®¡ä¹‹å‰è¿›è¡Œè¿‡å¤šå°‘æ¬¡c_a,c_cï¼Œæœ€åä¸€æ¬¡çš„c_cåä¸€ç›´åˆ°nå°±å¿…é¡»å¼€å§‹c_väº†ï¼Œé‚£ä¹ˆdp\[i]å°±æ˜¯åœ¨ç¬¬j+1ä¸ªä½ç½®c_aï¼Œç¬¬j+2ä¸ªä½ç½®c_cï¼Œéšåå¼€å§‹c_vçš„æœ€å¤§å€¼ï¼Œ1<=j<=i-3

```java
class Solution {
    public int maxA(int n) {
        int[] dp = new int[n+1];
        for(int i = 1;i<=n;i++){
            dp[i] = i;
            for(int j = 1;j<=i-3;j++){
                dp[i] = Math.max(dp[i],dp[j]*(i-j-1));
            }
        }
        return dp[n];
    
    }
}
```

æŒ‰ç…§é€’å½’è½¬dpæ¥æ±‚è§£ï¼š

é¦–å…ˆè¦æ˜ç¡®çŠ¶æ€ã€é€‰æ‹©

çŠ¶æ€ï¼šn(å‰©ä½™çš„æ“ä½œæ¬¡æ•°)ï¼Œanum(å±å¹•ä¸Šaçš„ä¸ªæ•°)ï¼Œcopyï¼ˆå‰ªåˆ‡æ¿ä¸Š'a'çš„ä¸ªæ•°ï¼‰

é€‰æ‹©ï¼šé€‰æ‹©'A',é€‰æ‹©c_a,c_cï¼ˆä¸¤ä¸ªè¿é€‰ï¼‰ï¼Œé€‰æ‹©c_v

basecase:n=0

```java
public int dp(int n,int anum,int copy){
    //basecase
    if(n<=0) return anum;
    //é€‰æ‹©'a'
    int res1 = dp(n-1,anum+1,copy);
    //é€‰æ‹©'c_v'
    int res2 = dp(n-1,anum+copy,copy);
    //é€‰æ‹©'c_a','c_c'
    int res3 = dp(n-2,anum,anum);
    return Math.max(res1,Math.max(res2,res3));
    
}
```

### 10.KMPç®—æ³•

ä¸€å…±ä¸¤æ­¥ï¼š

* æ„å»ºnextæ•°ç»„
* æ ¹æ®nextæ•°ç»„ç§»åŠ¨æ¨¡å¼ä¸²

**nextæ•°ç»„å®šä¹‰ï¼š**

* å¯¹äºå­—ç¬¦ä¸²"ababc",next\[i\]è¡¨ç¤ºç¬¬iä¸ªå­—ç¬¦å‰çš„å­—ç¬¦ä¸²æœ€å¤§å…¬å…±å‰ç¼€å’Œåç¼€çš„é•¿åº¦ï¼ˆå‰ç¼€ä¸å¯ä»¥åŒ…å«æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œåç¼€ä¸èƒ½åŒ…å«ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼‰,é‚£ä¹ˆnext\[4]('c'ä¹‹å‰æ˜¯'abab')ï¼Œå®ƒä»¬æœ€å¤§çš„å…¬å…±å‰ç¼€å’Œåç¼€æ˜¯'ab'ï¼Œæ‰€ä»¥next\[4]==2ã€‚
* basecase:å¯¹äºnext\[0]ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦å‰æ²¡æœ‰å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥è®°ä¸º-1ï¼›next\[1\]ï¼Œå‰é¢åªæœ‰ä¸€ä¸ªå­—ç¬¦ï¼Œä½†æ˜¯å‰ç¼€ä¸èƒ½åŒ…å«æœ€åä¸€ä¸ªå…ƒç´ ï¼Œä¹Ÿå°±æ˜¯è¯´'a'ä¸å¯ä»¥ä½œä¸ºå‰ç¼€ï¼Œæ‰€ä»¥next\[1]==0ã€‚è¿™é‡Œæ³¨æ„ï¼ŒæŸä¸ªå­—ç¬¦å‰å­˜åœ¨å­—ç¬¦ä¸²åªæ˜¯ä¸å­˜åœ¨å…¬å…±å­—ç¬¦ï¼Œé‚£ä¹ˆå®ƒçš„nextæ˜¯0ï¼›å¦‚æœå‰é¢æ ¹æœ¬ä¸å­˜åœ¨å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå®ƒçš„nextå°±æ˜¯-1ï¼›åªæœ‰ä½ç½®0çš„nextæ˜¯-1ï¼Œä¸åé¢nextä¸º0çš„æƒ…å†µåŒºåˆ†å¼€ã€‚

**å¦‚ä½•æ±‚è§£nextæ•°ç»„ï¼Ÿ**

![image-20210509150841004](ç®—æ³•.assets/image-20210509150841004.png)

ç°åœ¨è¦æ±‚ä½ç½®içš„nextï¼š

* å¦‚æœä½ç½®i-1çš„å­—ç¬¦å’Œä½ç½®next\[i-1\]ï¼ˆå›¾ä¸Šç¬”è¯¯ï¼Œè¿™é‡ŒdpæŒ‡çš„å°±æ˜¯next)çš„å­—ç¬¦ç›¸ç­‰ï¼Œé‚£ä¹ˆnext\[i] = next\[i-1]+1
* å¦‚æœä¸ç›¸ï¼Œè¯´æ˜ä½ç½®iå‰å­—ç¬¦æ²¡æœ‰é‚£ä¹ˆé•¿çš„å…¬å…±å­ä¸²ï¼Œå¾—å‡å°ä¸€ä¸‹èŒƒå›´ï¼Œé¦–å…ˆ next\[i-1]æˆ‘ä»¬çŸ¥é“äº†ï¼Œå®ƒå‰é¢ä¹Ÿæœ‰å…¬å…±å‰ç¼€åç¼€ï¼ˆé‚£ä¸¤ä¸ªå°é»‘å—ï¼‰ï¼Œè€Œä¸”ç¬¬ä¸€ä¸ªé»‘å—å’Œç¬¬å››ä¸ªé»‘å—æ˜¯å¯¹ç§°çš„ï¼Œæ¥ä¸‹æ¥åˆ¤æ–­ç¬¬ä¸€ä¸ªé»‘å—åçš„å­—ç¬¦æ˜¯å¦ç­‰äºä½ç½®i-1çš„å­—ç¬¦ã€‚
* basecaseï¼Œä¸æ–­å¾€å‰ç¼©å‡ï¼Œå¦‚æœ0å·ä½ç½®çš„å­—ç¬¦éƒ½å’Œç¬¬i-1ä¸ªå­—ç¬¦ä¸ç›¸ç­‰ï¼Œé‚£ä¹ˆå°±è¯´æ˜iå‰å…¬å…±å‰ç¼€åç¼€é•¿åº¦ä¸º0ï¼Œ

æˆ‘è‡ªå·±å†™çš„åˆç¨¿ï¼š

```java
public int[] getNext(char[] patc){
    if(patc.length==1) return new int[]{-1};
    int[] next = new int[patc.length];
    //basecase
    next[0] = -1;
    next[1] = 0;
    int pos = 2;
    while(pos<patc.length){
        if(patc[pos-1] == patc[next[pos-1]]){
            next[pos] = next[pos-1]+1;
            continue;
        }else{
            int k = next[pos-1];       
        	while(k!=-1){
                //é‡å¤æ¯”è¾ƒï¼Œä¸å¤ªå¥½ï¼Œä½†æ˜¯æ€è·¯åº”è¯¥å¯¹ã€‚
                if(patc[pos-1] == patc[k]){
                    next[pos] = k+1;
                    break;
                }
                k = next[k];
            } 
            if(k == -1) next[pos] = 0;
        }
    }
    return next;
}
```

è¿™é‡Œä¸å¦¨æŠŠkæå–å‡ºæ¥ï¼Œkä»£è¡¨next\[pos-1\]

```java
public int[] getNext(char[] patc){
    if(patc.length==1) return new int[]{-1};
    int[] next = new int[patc.length];
    //basecase
    next[0] = -1;
    next[1] = 0;
    int pos = 2;
    int k = 0;//next[2-1] = 0
    while(pos<patc.length){
        if(patc[pos-1] == patc[k]){
            next[pos++] = ++k;
        }
        else if(k>0){
            k = next[k];
        }else{
            next[pos++] = 0;
        }
    }
    return next;
}
```

* å­—ç¬¦ä¸²ç§»åŠ¨ç¯èŠ‚ï¼Œå‡è®¾patçš„ç¬¬jä¸ªå­—ç¬¦å’Œtxtçš„ç¬¬iä¸ªå­—ç¬¦ä¸åŒ¹é…ï¼Œç›´æ¥è®©next\[j]å’Œiæ¯”ï¼Œè€Œä¸æ˜¯ä¸€ä¸‹å­æŠŠpatä¸²ç§»åŠ¨åˆ°(i-j+1)çš„ä½ç½®é‡æ–°å¼€å§‹åŒ¹é…

  ```java
  public int kmp(String txt,String pat){
      char[] txtc = txt.toCharArray();
      char[] patc = pat.toCharArray();
      int ti = 0;
      int pi = 0;
      int[] next = getNext(patc);
      while(ti<txtc.length&&pi<patc.length){
          if(txtc[ti] == patc[pi]){
              ti++;
              pi++;
          //å¦‚æœæ²¡åŒ¹é…ä¸Šå°±å…ˆç§»åŠ¨åˆ°next[pi]
          }else if(pi>0){
              pi = next[pi];
          }else{
              //è¦æ˜¯è¿patç¬¬0ä½ç½®å…ƒç´ éƒ½å’Œä½ç½®tiçš„å…ƒç´ ä¸ç­‰ï¼Œé‚£ä¹ˆtiè¿™ä¸ªä½ç½®æ˜¯è‚¯å®šå’ŒpatåŒ¹é…ä¸ä¸Šäº†ï¼Œæ‰€ä»¥æŠŠtiå‘å‰ç§»åŠ¨ä¸€ä½ï¼ŒåŒæ—¶æŠŠpiæ¢å¤ä¸º0
              ti++;
              pi = 0;
          }
      }
      //é€€å‡ºå¾ªç¯ï¼Œå¦‚æœæœ€åpatåˆ°è¾¾æœ€åä¸€ä½äº†ï¼Œè¯´æ˜å…¨éƒ¨åŒ¹é…æˆåŠŸäº†ï¼Œti-piå°±æ˜¯ç¬¬ä¸€ä¸ªåŒ¹é…æˆåŠŸçš„å€¼ï¼Œå¦‚æœåŒ¹é…ä¸æˆåŠŸï¼Œè¿”å›-1.
      return p1<patc.length?:-1:ti-pi;
  }
  ```

* è®¡ç®—nextæ•°ç»„çš„æ—¶å€™ä¸ºä»€ä¹ˆæ²¡æœ‰next\[n+1]?

  çœ‹kmpç®—æ³•å°±èƒ½æ˜ç™½ï¼Œå¦‚æœæœ€åä¸€ä¸ªå…ƒç´ å’ŒtiåŒ¹é…ä¸Šäº†ç›´æ¥å°±é€€å‡ºäº†ï¼›å¦‚æœåŒ¹é…ä¸ä¸Šå°±ç›´æ¥å¾€å‰é€€ï¼Œnextæ•°ç»„æ˜¯å€’é€€æ—¶ç”¨çš„ï¼Œæ‰€ä»¥next\[n+1]æ„ä¹‰ä¸å¤§ã€‚

* æ—¶é—´å¤æ‚åº¦åˆ†æ

  kmpçš„æ—¶é—´å¤æ‚åº¦ï¼šé¦–å…ˆtxtè‚¯å®šä¸å›é€€ï¼Œpatå‘å‰æ»‘åŠ¨ï¼ˆä¸ä¼šåé€€ï¼‰ï¼Œä½†æ˜¯å®ƒæ‰€æ»‘åŠ¨çš„æœ€å¤§è·ç¦»æ˜¯n(ä¹Ÿå°±æ˜¯æ»‘åŠ¨åˆ°å¤´äº†)ï¼Œæ‰€ä»¥åŒ¹é…è¿‡ç¨‹æ—¶é—´å¤æ‚åº¦O(n)

  getNextçš„æ—¶é—´å¤æ‚åº¦ï¼š

  æ¯æ¬¡å¾ªç¯ï¼Œè¦ä¹ˆposå¢åŠ ï¼Œè¦ä¹ˆpos-kå¢åŠ ï¼Œè¦ä¹ˆä¸¤è€…ä¸€èµ·å¢åŠ ï¼Œpos<m,pos-k<mï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸ä¼šè¶…è¿‡2mï¼ŒgetNextçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(m)

### 11.è´ªå¿ƒä¹‹åŒºé—´è°ƒåº¦é—®é¢˜

è´ªå¿ƒç®—æ³•ï¼šdpçš„ç‰¹ä¾‹

ä½¿â½¤è´ªâ¼¼ç®—æ³•éœ€è¦æ»¡â¾œæ›´å¤šçš„æ¡ä»¶ï¼ˆè´ªâ¼¼é€‰æ‹©æ€§è´¨ï¼‰ ï¼Œ ä½†æ˜¯æ•ˆç‡â½åŠ¨æ€è§„åˆ’è¦â¾¼ã€‚  

ä»€ä¹ˆæ˜¯è´ªâ¼¼é€‰æ‹©æ€§è´¨å‘¢ï¼Œ ç®€å•è¯´å°±æ˜¯ï¼š æ¯â¼€æ­¥éƒ½åšå‡ºâ¼€ä¸ªå±€éƒ¨æœ€ä¼˜çš„é€‰æ‹©ï¼Œæœ€ç»ˆçš„ç»“æœå°±æ˜¯å…¨å±€æœ€ä¼˜ã€‚ æ³¨æ„å“¦ï¼Œ è¿™æ˜¯â¼€ç§ç‰¹æ®Šæ€§è´¨ï¼Œ å…¶å®åªæœ‰â¼€éƒ¨åˆ†é—®é¢˜æ‹¥æœ‰è¿™ä¸ªæ€§è´¨ã€‚

ç»å…¸åŒºé—´é—®é¢˜ï¼š

ç»™ä½ å¾ˆå¤šå½¢å¦‚ [start, end] çš„é—­åŒºé—´ï¼Œ è¯·ä½ è®¾è®¡â¼€ä¸ªç®—æ³•ï¼Œç®—å‡ºè¿™äº›åŒºé—´ä¸­æœ€å¤šæœ‰â¼ä¸ªäº’ä¸ç›¸äº¤çš„åŒºé—´ã€‚   

\1. ä»åŒºé—´é›†åˆ intvs ä¸­é€‰æ‹©â¼€ä¸ªåŒºé—´ xï¼Œ è¿™ä¸ª x æ˜¯åœ¨å½“å‰æ‰€æœ‰åŒºé—´ä¸­ç»“æŸ
æœ€æ—©çš„ï¼ˆend æœ€â¼©ï¼‰ ã€‚
\2. æŠŠæ‰€æœ‰ä¸ x åŒºé—´ç›¸äº¤çš„åŒºé—´ä»åŒºé—´é›†åˆ intvs ä¸­åˆ é™¤ã€‚
\3. é‡å¤æ­¥éª¤ 1 å’Œ 2ï¼Œ ç›´åˆ° intvs ä¸ºç©ºä¸ºâ½Œã€‚ ä¹‹å‰é€‰å‡ºçš„é‚£äº› x å°±æ˜¯æœ€â¼¤ä¸
ç›¸äº¤â¼¦é›†ã€‚

```java
public int intevalSchedual(int[][] intvs){
    if(intvs.length == 0) return 0;
    //æŒ‰ç…§endæ’åº
    Arrays.sort(intvs,new Comparator<int[]>(){ (a,b)->a[1]-b[1]});
    int cnt = 1;
    int end = intvs[0][1];
    for(int i = 1;i<intvs.length;i++){
        if(intvs[i][0]>end){
            cnt++;
            end = intvs[i][1];
        }
    }
    return cnt;
}
```

**ç›¸å…³ä¾‹é¢˜ï¼š** 

#### lc435æ— é‡å åŒºé—´

![image-20210509171713867](ç®—æ³•.assets/image-20210509171713867.png)

```java
return n - intevalSchedual(int[][] intvs);
```

  #### lc452æœ€å°‘çš„ç®­å°„æ°”çƒ

![image-20210509172903503](ç®—æ³•.assets/image-20210509172903503.png)

 æ³¨ï¼šè¿™ä¸ªæ„Ÿè§‰è·Ÿè´ªå¿ƒæ²¡å•¥å…³ç³»ï¼Œå…ˆæŒ‰endæ’å¥½åºä¹‹åä¸‹ä¸€ä¸ªå¦‚æœä¸å½“å‰åŒºé—´é‡åˆäº†ç›´æ¥è·³è¿‡ï¼Œä¸”ä¸æ›´æ–°endï¼Œç›´åˆ°å‡ºç°ä¸€ä¸ªä¸å’Œå½“å‰endé‡åˆçš„å†åŠ 1.

```java
class Solution {
    public int findMinArrowShots(int[][] points) {
        if(points.length==0) return 0;
        Arrays.sort(points,new Comparator<int[]>(){
            public int compare(int[] m,int[] n){
                //ä¸ºå•¥ä½¿ç”¨è¿™ç§æ–¹å¼è€Œä¸æ˜¯ä¸¤ä¸ªæ•°ç›¸å‡ï¼Ÿå› ä¸ºå¦‚æœæ•°å¾ˆå¤§çš„è¯ä¸¤ä¸ªæ•°ä¼šæº¢å‡ºã€‚
                return m[1]<n[1]?-1:1;
            }
        });
        int cnt=1,end=points[0][1];
        for(int i=1;i<points.length;i++){
            if(points[i][0]<=end) continue;
            else{end=points[i][1];
            cnt++;}
        }
        return cnt;

    }
}
```

